name: openswitch-alphanetworks-snx-60a0-486f
version: 0.3.0-1
summary: OpenSwitch NOS for an alphanetworks-snx-60a0-486f host.
description: A standalone version of the OpenSwitch NOS (www.openswitch.net) for the Alphanetworks SNX-60A0-486F host.

parts:

  opennsl:
    plugin: copy
    source: https://archive.openswitch.net/opennsl/opennsl-3.1.0.9-cdp-as6712-c1e81c5.tar.bz2
    files:
      '*': '.'

  linux-headers:
    plugin: x-sourcepkg
    package: linux-headers-4.4.0-21-generic

  openswitch:
    plugin: x-openswitch
#    source: https://github.com/ops-snappy/ops-build.git
    source: /work/ops-build
    platform: alphanetworks-snx-60a0-486f
    headerspart: linux-headers
    cdppart: opennsl
    stage-packages: [ libyaml-cpp0.3-dev, zlib1g, libatomic1 ]
    after: [ opennsl, linux-headers ]
